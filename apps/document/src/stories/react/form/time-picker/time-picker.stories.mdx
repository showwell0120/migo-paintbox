import { Meta, Canvas, Story } from '@storybook/addon-docs/blocks';

import ReactTimePicker, { TimepickerSample } from '@paintbox/react-time-picker';

<Meta title="React/Form/TimePicker/Doc" />

# TimePicker

> 日期時間的輸入。以控制元件的方式實作，提供以下 props 和可以指定資料名稱的泛型－

```javascript
export interface ChangeHandlerParams<NameType = string> {
  valid: boolean;         // 驗證的狀態是否通過
  value: number | null;   // current value
  name: NameType;         // 資料名稱
}

export interface FormFieldBaseProps<NameType = string> {
  value: number | null;                                      // current value
  name: NameType;                                            // 資料名稱
  min?: number | null | undefined;                           // 最小值
  onChange: (param: ChangeHandlerParams<NameType>) => void;  // event handler
}

export interface ReactTimePickerProps<NameType> extends FormFieldBaseProps<NameType> {
  dateLabel?: string;   // 日期的 label 文字
  timeLabel?: string;   // 時間的 label 文字
}
```

## Mockup

- [Billing System on Figma](https://www.figma.com/file/rvTsTJLCarPAEYvdXQuRDY/Billing-System---1.0.0?node-id=5301%3A12735)

## Usage 

```javascript
import { ReactTimePicker } from '@paintbox/react-timepicker';

import '@paintbox/react-time-picker/index.css';

export const Sample = () => {
  const [value, setValue] = React.useState<number | null>(null);

  const handleChange = (params: ChangeHandlerParams) => {
    setValue(params.value);
  };

  return (
    <ReactTimePicker<'field_name'>
      name="field_name"
      value={value}
      onChange={handleChange}
    />
  );
};
```

## Stories

在專案中使用這個套件時，react-datepicker 的 default import 會是整個 module，而不是 react-datepicker 中預設 export 的元件。為了暫時解決這個問題，在 JSX 中是 call ReactDatePicker.default。不過在 storybook 中會報錯，目前僅以文字說明。